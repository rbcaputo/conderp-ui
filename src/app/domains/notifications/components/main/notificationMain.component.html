<div class="header-container">

  <div class="title-container">

    <span class="material-symbols-rounded">
      notifications
    </span>
    <span>
      NOTIFICAÇÕES
    </span>

  </div>
  <toolbar [dataSource]="dataSource" [entityType]="entityType"></toolbar>

</div>
<div *ngIf="dataSource.data.length === 0" class="empty-response-container">

  <span class="material-symbols-rounded">
    warning
  </span>
  <span>
    {{emptyResponseMessage}}
  </span>

</div>
<div class="table-paginator-container">

  <table mat-table *ngIf="dataSource.data.length > 0" [dataSource]="dataSource" matSort>

    <ng-container matColumnDef="date">

      <th mat-header-cell *matHeaderCellDef mat-sort-header>
        Data de envio
      </th>
      <td mat-cell *matCellDef="let notification">
        {{notification.sendDate | date: "dd/MM/yyyy"}}
      </td>

    </ng-container>
    <ng-container matColumnDef="title">

      <th mat-header-cell *matHeaderCellDef mat-sort-header>
        Mensagem
      </th>
      <td mat-cell *matCellDef="let notification">
        {{notification.title}}
      </td>

    </ng-container>
    <ng-container matColumnDef="name">

      <th mat-header-cell *matHeaderCellDef mat-sort-header>
        Remetente
      </th>
      <td mat-cell *matCellDef="let notification">
        {{notification.name}}
      </td>

    </ng-container>
    <ng-container matColumnDef="seen">

      <th mat-header-cell *matHeaderCellDef>
        Visto
      </th>
      <td mat-cell *matCellDef="let notification">
        <button mat-icon-button [matTooltip]="markAsSeenTooltip" [matTooltipPosition]="tooltipPosition"
          (click)="toggleUserNotificationSeenByPublicIdAsync(notification.publicId, $event);"
          [class]="{'seen' : notification.seen, 'unseen' : !notification.seen}">
          <span class="material-symbols-rounded">
            check_circle
          </span>
        </button>
      </td>

    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns; let notification"
      (click)="dialogService.openGetDialog(dialogService.entityType.Notification, notification)"></tr>

  </table>
  <mat-paginator [length]="dataSource.data.length" [pageSize]="50" showFirstLastButtons></mat-paginator>

</div>
